{"mappings":"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","sources":["<anon>","src/main.js","api/getstudents.js","api/addstudent.js","api/updatestudent.js","api/deletestudent.js"],"sourcesContent":["function $7c95d094760fea90$export$46b02f38dba9461c() {\n    return fetch(\"http://localhost:3000/students\").then((res)=>res.json());\n}\n\n\nfunction $056899c3bc8c0193$export$60288a720d901db(student) {\n    return fetch(\"http://localhost:3000/students\", {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(student)\n    });\n}\n\n\nfunction $6fd58746230088fb$export$dc5efde5a53fdc88(id, student) {\n    return fetch(`http://localhost:3000/students/${id}`, {\n        method: \"PATCH\",\n        headers: {\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(student)\n    });\n}\n\n\nfunction $f091208395c98a91$export$be59221039e00234(id) {\n    return fetch(`http://localhost:3000/students/${id}`, {\n        method: \"DELETE\"\n    });\n}\n\n\nconst $2b6e161c9edcf319$var$tableBody = document.querySelector(\"#students-table tbody\");\nconst $2b6e161c9edcf319$var$form = document.getElementById(\"add-student-form\");\nconst $2b6e161c9edcf319$var$getBtn = document.getElementById(\"get-students-btn\");\nlet $2b6e161c9edcf319$var$editId = null;\nfunction $2b6e161c9edcf319$var$showStudents(students) {\n    $2b6e161c9edcf319$var$tableBody.innerHTML = \"\";\n    students.forEach((student)=>{\n        const tr = document.createElement(\"tr\");\n        tr.innerHTML = `\n      <td>${student.id}</td>\n      <td>${student.name}</td>\n      <td>${student.age}</td>\n      <td>${student.course}</td>\n      <td>${student.skills.join(\", \")}</td>\n      <td>${student.email}</td>\n      <td>${student.isEnrolled ? \"\\u0422\\u0430\\u043A\" : \"\\u041D\\u0456\"}</td>\n      <td>\n        <button class=\"edit\" data-id=\"${student.id}\">\\u{41E}\\u{43D}\\u{43E}\\u{432}\\u{438}\\u{442}\\u{438}</button>\n        <button class=\"delete\" data-id=\"${student.id}\">\\u{412}\\u{438}\\u{434}\\u{430}\\u{43B}\\u{438}\\u{442}\\u{438}</button>\n      </td>\n    `;\n        $2b6e161c9edcf319$var$tableBody.appendChild(tr);\n    });\n}\nfunction $2b6e161c9edcf319$var$loadStudents() {\n    (0, $7c95d094760fea90$export$46b02f38dba9461c)().then($2b6e161c9edcf319$var$showStudents);\n}\n$2b6e161c9edcf319$var$form.addEventListener(\"submit\", (e)=>{\n    e.preventDefault();\n    const student = {\n        name: $2b6e161c9edcf319$var$form.name.value,\n        age: +$2b6e161c9edcf319$var$form.age.value,\n        course: $2b6e161c9edcf319$var$form.course.value,\n        skills: $2b6e161c9edcf319$var$form.skills.value.split(\",\").map((s)=>s.trim()),\n        email: $2b6e161c9edcf319$var$form.email.value,\n        isEnrolled: $2b6e161c9edcf319$var$form.isEnrolled.checked\n    };\n    if ($2b6e161c9edcf319$var$editId) (0, $6fd58746230088fb$export$dc5efde5a53fdc88)($2b6e161c9edcf319$var$editId, student).then(()=>{\n        $2b6e161c9edcf319$var$editId = null;\n        $2b6e161c9edcf319$var$form.reset();\n        $2b6e161c9edcf319$var$loadStudents();\n    });\n    else (0, $056899c3bc8c0193$export$60288a720d901db)(student).then(()=>{\n        $2b6e161c9edcf319$var$form.reset();\n        $2b6e161c9edcf319$var$loadStudents();\n    });\n});\n$2b6e161c9edcf319$var$tableBody.addEventListener(\"click\", (e)=>{\n    const id = e.target.dataset.id;\n    if (!id) return;\n    if (e.target.classList.contains(\"edit\")) (0, $7c95d094760fea90$export$46b02f38dba9461c)().then((data)=>{\n        const student = data.find((s)=>s.id == id);\n        if (!student) return;\n        $2b6e161c9edcf319$var$form.name.value = student.name;\n        $2b6e161c9edcf319$var$form.age.value = student.age;\n        $2b6e161c9edcf319$var$form.course.value = student.course;\n        $2b6e161c9edcf319$var$form.skills.value = student.skills.join(\", \");\n        $2b6e161c9edcf319$var$form.email.value = student.email;\n        $2b6e161c9edcf319$var$form.isEnrolled.checked = student.isEnrolled;\n        $2b6e161c9edcf319$var$editId = student.id;\n    });\n    if (e.target.classList.contains(\"delete\")) (0, $f091208395c98a91$export$be59221039e00234)(id).then(()=>{\n        if ($2b6e161c9edcf319$var$editId == id) {\n            $2b6e161c9edcf319$var$form.reset();\n            $2b6e161c9edcf319$var$editId = null;\n        }\n        $2b6e161c9edcf319$var$loadStudents();\n    });\n});\n$2b6e161c9edcf319$var$getBtn.addEventListener(\"click\", $2b6e161c9edcf319$var$loadStudents);\n\n\n//# sourceMappingURL=goiteems-js-hw-18-crud.6762688d.js.map\n","import { getStudentsAPI } from \"../api/getstudents.js\";\r\nimport { addStudentAPI } from \"../api/addstudent.js\";\r\nimport { updateStudentAPI } from \"../api/updatestudent.js\";\r\nimport { deleteStudentAPI } from \"../api/deletestudent.js\";\r\n\r\nconst tableBody = document.querySelector(\"#students-table tbody\");\r\nconst form = document.getElementById(\"add-student-form\");\r\nconst getBtn = document.getElementById(\"get-students-btn\");\r\n\r\nlet editId = null;\r\n\r\nfunction showStudents(students) {\r\n  tableBody.innerHTML = \"\";\r\n  students.forEach(student => {\r\n    const tr = document.createElement(\"tr\");\r\n\r\n    tr.innerHTML = `\r\n      <td>${student.id}</td>\r\n      <td>${student.name}</td>\r\n      <td>${student.age}</td>\r\n      <td>${student.course}</td>\r\n      <td>${student.skills.join(\", \")}</td>\r\n      <td>${student.email}</td>\r\n      <td>${student.isEnrolled ? \"Так\" : \"Ні\"}</td>\r\n      <td>\r\n        <button class=\"edit\" data-id=\"${student.id}\">Оновити</button>\r\n        <button class=\"delete\" data-id=\"${student.id}\">Видалити</button>\r\n      </td>\r\n    `;\r\n\r\n    tableBody.appendChild(tr);\r\n  });\r\n}\r\n\r\nfunction loadStudents() {\r\n  getStudentsAPI().then(showStudents);\r\n}\r\n\r\nform.addEventListener(\"submit\", e => {\r\n  e.preventDefault();\r\n\r\n  const student = {\r\n    name: form.name.value,\r\n    age: +form.age.value,\r\n    course: form.course.value,\r\n    skills: form.skills.value.split(\",\").map(s => s.trim()),\r\n    email: form.email.value,\r\n    isEnrolled: form.isEnrolled.checked\r\n  };\r\n\r\n  if (editId) {\r\n    updateStudentAPI(editId, student).then(() => {\r\n      editId = null;\r\n      form.reset();\r\n      loadStudents();\r\n    });\r\n  } else {\r\n    addStudentAPI(student).then(() => {\r\n      form.reset();\r\n      loadStudents();\r\n    });\r\n  }\r\n});\r\n\r\ntableBody.addEventListener(\"click\", e => {\r\n  const id = e.target.dataset.id;\r\n  if (!id) return;\r\n\r\n  if (e.target.classList.contains(\"edit\")) {\r\n    getStudentsAPI().then(data => {\r\n      const student = data.find(s => s.id == id);\r\n      if (!student) return;\r\n\r\n      form.name.value = student.name;\r\n      form.age.value = student.age;\r\n      form.course.value = student.course;\r\n      form.skills.value = student.skills.join(\", \");\r\n      form.email.value = student.email;\r\n      form.isEnrolled.checked = student.isEnrolled;\r\n\r\n      editId = student.id;\r\n    });\r\n  }\r\n\r\n  if (e.target.classList.contains(\"delete\")) {\r\n    deleteStudentAPI(id).then(() => {\r\n      if (editId == id) {\r\n        form.reset();\r\n        editId = null;\r\n      }\r\n      loadStudents();\r\n    });\r\n  }\r\n});\r\n\r\ngetBtn.addEventListener(\"click\", loadStudents);\r\n","export function getStudentsAPI() {\r\n  return fetch(\"http://localhost:3000/students\")\r\n    .then(res => res.json());\r\n}\r\n","export function addStudentAPI(student) {\r\n  return fetch(\"http://localhost:3000/students\", {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(student)\r\n  });\r\n}\r\n","export function updateStudentAPI(id, student) {\r\n  return fetch(`http://localhost:3000/students/${id}`, {\r\n    method: \"PATCH\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(student)\r\n  });\r\n}\r\n","export function deleteStudentAPI(id) {\r\n  return fetch(`http://localhost:3000/students/${id}`, {\r\n    method: \"DELETE\"\r\n  });\r\n}\r\n"],"names":["$7c95d094760fea90$export$46b02f38dba9461c","fetch","then","res","json","$2b6e161c9edcf319$var$tableBody","document","querySelector","$2b6e161c9edcf319$var$form","getElementById","$2b6e161c9edcf319$var$getBtn","$2b6e161c9edcf319$var$editId","$2b6e161c9edcf319$var$showStudents","students","innerHTML","forEach","student","tr","createElement","id","name","age","course","skills","join","email","isEnrolled","appendChild","$2b6e161c9edcf319$var$loadStudents","addEventListener","e","preventDefault","value","split","map","s","trim","checked","method","headers","body","JSON","stringify","reset","target","dataset","classList","contains","data","find"],"version":3,"file":"goiteems-js-hw-18-crud.6762688d.js.map"}